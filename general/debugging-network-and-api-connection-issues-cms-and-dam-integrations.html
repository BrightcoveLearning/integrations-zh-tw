---
title:使用 CMS 和 DAM 集成調試網絡和 API 連接問題
parent: General Information 
---

<article class="bcls-article">
<h1>使用 CMS 和 DAM 集成調試網絡和 API 連接問題</h1>
<summary>本主題討論調試網絡問題，這些問題將阻止CMS和DAM集成訪問Brightcove API。</summary>
<p>用於Brightcove的AEM，Drupal，SharePoint，Sitecore和WordPress CMS連接器以及由第三方開發的CMS和DAM連接器都需要訪問Brightcove的REST API。&nbsp;要使用Brightcove API，必須首先在Brightcove Studio中的“管理員"-&gt;“API身份驗證"下啟用它們。&nbsp;以下是具有CMS連接器使用權限的典型配置：</p>
<figure class="bcls-figure"><img class="bcls-image" alt="API Permissions" width="800" src="//learning-services-media.brightcove.com/doc-assets/node/18584-debugging-network-and-api-connection-issues/node18584-api-permissions.png" />
  <figcaption class="bcls-caption--image">API 權限</figcaption>
</figure>
<p>可以找到有關管理API身份驗證的更多詳細信息<a href="https://support.brightcove.com/managing-api-authentication-credentials">這裡</a>。</p>
<p>從Brightcove檢索clientID和client Secret並將它們輸入CMS連接器配置後，如果連接器無法連接到Brightcove以同步視頻，則可能有防火牆&nbsp;或其他網絡配置阻止對Brightcove API的訪問。</p>
<p>測試對Brightcove API的訪問的最簡單方法是使用下面的簡單shell腳本。&nbsp;從CMS服務器本身或與CMS服務器位於同一網絡上的Linux或OS X計算機上運行此腳本。&nbsp;確保首先使用您的Brightcove帳戶ID（pubID），客戶端ID和客戶端密鑰更新腳本。</p>
<pre>
<code translate="No">
#!/bin/sh

# Set up proxy if necessary
# export http_proxy="http://<proxy-host>:<proxy-port>"
# export https_proxy=" http://<proxy-host>:<proxy-port>"

# Enter pub_id, client_id, and client_secret below
PUB_ID='xxxxxx'
CLIENT_ID='xxxxxxxxxxxxxxxxxxxx'
CLIENT_SECRET='xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'
API_CALL='https://cms.api.brightcove.com/v1/accounts/'$PUB_ID'/videos'
VERB='GET'

TOKEN=$(curl -s --data "grant_type=client_credentials" https://oauth.brightcove.com/v4/access_token --header "Content-Type: application/x-www-form-urlencoded" --user "$CLIENT_ID:$CLIENT_SECRET" | sed -E 's/.*access_token\"\:\"([^\"]+)\".*/\1/');
RESPONSE=$(curl -s -v -X $VERB "$API_CALL" -d "$DATA" -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json")
echo $RESPONSE
</proxy-port></proxy-host></proxy-port></proxy-host></code></pre>
<p>該腳本僅返回該帳戶中的視頻列表。它不會對Brightcove帳戶執行任何寫操作。如果您沒有看到視頻列表或看到錯誤消息，則說明您的網絡正在阻止HTTPS訪問以下兩個API端點中的一個或兩個：</p>
<ul>
  <li>oath.brightcove.com</li>
  <li>網站</li>
</ul>
<p>如果這些端點被阻止，則CMS和DAM連接器使用的其他Brightcove API端點也可能被阻止。&nbsp;這些包括：</p>
<ul>
  <li>ingest.api.brightcove.com</li>
  <li>網站</li>
  <li>攝取 .api..com</li>
  <li>policy.api.brightcove.com</li>
  <li>玩家</li>
  <li>網頁邊緣</li>
  <li>experience.api.brightcove.com</li>
  <li>攝取上傳prod.s3.amazonaws.com</li>
</ul>
<p>要使用CMS連接器，將需要從CMS服務器訪問所有這9個端點，並且還必須允許這些端點的響應傳遞回CMS服務器。&nbsp;如果無法為上面列出的端點打開防火牆，並且需要將代理支持添加到CMS或DAM連接器，請與Brightcove代表聯繫，以獲取上面列出的CMS連接器的自定義開發項目，或者與您的第三方連接器的開發人員聯繫。正在使用。</p>
